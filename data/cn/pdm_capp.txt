基于PDM与CAPP系统深度集成的技术研究
2023-11-07
 打印
文章来源：e-works数字化企业网　　
前言
       CAPP从PDM结构树中获取和存储信息，这些信息作为企业工艺数据信息的基础，通过PDM框架进行集成，因此PDM与CAPP的集成具有重要的意义。本文对PDM与CAPP两大系统的集成做了详细的分析，通过采用统一产品结构树的数据源头，由PDM的设计数据管理CAPP的工艺数据，在CAPP中设计工艺数据，实现了不同系统的数据共享与互通，为PDM与CAPP的集成提供新的思路和实践方案，同时为实现企业各系统之间的综合集成奠定了基础。
一、相关术语
       1.1 PDM 
       PDM（Product Data Management，产品数据管理）是一门用来管理所有与产品相关信息（包括零件信息、配置、文档、CAD文件、结构、权限信息等）和所有与产品相关过程（包括过程定义和管理）的技术。通过实施PDM，可以提高生产效率，有利于对产品的全生命周期进行管理，加强对于文档、图纸和数据的高效利用，使工作流程规范化。
　　

 
　　图1 PDM系统
　　
       1.2 CAPP
       CAPP（Computer Aided Process Planning）是指借助于计算机软硬件技术和支撑环境，利用计算机进行数值计算、逻辑判断和推理等的功能来制定零件机械加工工艺过程。借助于CAPP系统，可以解决手工工艺设计效率低、一致性差、质量不稳定、不易达到优化等问题。也是利用计算机技术辅助工艺师完成零件从毛胚到成品的设计和制造过程。
　　

 
　　图2 CAPP系统
　　
       1.3 深度集成
       在整个企业中，PDM是整个企业数据与信息的平台，它就像是企业各类综合信息的仓库，每一个系统都通过不同的集成方式集成到该平台上，使产品相关数据高度集成和共享。PDM系统面向企业产品全生命周期，对其研制数据和业务流程进行统一存储、组织、管理和控制，确保企业产品研制数据的一致性、有效性、安全性、完整性和可追溯性。CAPP系统以工艺知识库、产品工艺数据库为核心，以交互式设计为基础，集成工艺知识库管理工具等应用支持工具以及专家系统等智能应用和二次开发工具，能在不同应用层次与系统间实现集成化。因为CAPP从PDM中获取和存储信息，这些信息作为企业信息的基础要通过PDM框架进行集成（如图3），所以，CAPP与PDM的深度集成具有重要的意义。
　　

 
　　图3 PDM与CAPP集成框架
　　
二、实施背景
       汽车热管理产品应用的PDM系统与CAPP系统进行一定的数据及信息交换，信息交换方式是通过高级报表的形式从PDM中导出设计BOM传递给CAPP，在CAPP中通过人工搭建层级结构的方式加入分工路线、相关物料信息构建工艺BOM（如图4）。
　　

 
　　图4 人工搭建报表形式
　　
       工艺人员通过工艺BOM编制完成的各类工艺文件，然后将编制的工艺文件导入PDM系统中，工艺文件审签过程在PDM中操作，工艺文件审签节点通过后，由PDM将签名信息以文本替代的方式写入工艺文件，最终进行电子归档。工艺设计过程仍然在CAPP系统中进行，PDM负责工艺数据的审签和归档管理，CAPP与PDM系统独立存在、各自运行，只是将使用CAPP编制的工艺文件上传到PDM系统，然后进行电子化审签管理，用户信息在PDM及CAPP系统中无法并存，无法实现CAPP与PDM系统的深度集成。
       工艺设计与工艺管理过程是研发和生产过程中的重要环节，在产品研发和生产过程中产生的工艺数据是进行数字化设计、制造与管理的基础数据。因此，实现数字化工艺设计与管理的CAPP系统是产品生命周期管理环境的基础组成部分，与其他业务系统有机协作，共同完成基于产品数据管理、面向产品全生命周期的数字化业务过程。
三、集成思路和实践方案
       3.1 集成需求
       PDM系统提供了统一的运行环境和管理框架，CAPP系统基于此环境运行，解决产品研制过程中的工艺设计数字化需求，满足PDM平台的管理要求。PDM平台下的CAPP系统具备如下主要业务支撑能力：
       (1)以工具集的形式嵌入PDM系统中，基于PDM平台的单一产品数据源，与其他业务系统协作运行。
       (2)以数据库交互的集成接口方式将在CAPP系统中产生的工艺文件和数据提交到PDM平台进行统一管理。
       (3)实现各类工艺规程及工艺文件的设计和管理，提供方便、快捷的图形绘制支持功能。
       (4)提供工艺文件浏览、审签、打印等工具，实现工艺文件的电子审签、打印和发放。
       (5)实现产品、零件、工装、设备、材料等各类明细表的统计汇总。
       3.2 集成目标
       通过CAPP与PDM系统的集成，实现产品研制生产过程全生命周期管理及工艺设计数字化过程，解决企业研发和工艺信息化建设中的信息孤岛问题，有助于企业在产品研制过程中实现以下目标：
       (1)基于单一产品数据源和统一的工作流程管理，实现工艺设计与产品设计、生产制造等业务部门的有效协同。
       (2)基于数据库交互的数据集成，确保产品研制数据的单源性、全面性和准确性，实现产品生命周期数据的统一管理和全面共享。
       (3)提供强大、便捷的工艺设计和图形编制支持方法，有效提高工艺设计的效率和准确性，促进工艺设计的规范性和标准化程度。
       (4)通过多种工艺数据的统计汇总与分析，提供可视化的汇总、分析结果展示，为工艺人员进行工艺管理提供决策性支持。
       (5)保持业务系统的主体应用模式和使用习惯，确保工艺业务过程在系统重构过程中不中断，实现工艺业务过程的稳定、平滑过渡。
       3.3 深度集成的总体方案
       3.3.1 集成框架
       CAPP与PDM系统集成采用以单一产品数据源为核心，以功能集成和数据集成为基础的紧密集成方式，以PDM作为系统集成的平台，负责BOM的创建与管理。CAPP作为工艺文件编制和工艺数据操作的运行环境，在其本身所需要的支撑工具的支持下，完成工艺设计过程。
       PDM作为系统集成平台，负责系统集成中需要的产品结构管理、用户管理、工作流程管理以及对CAPP生成的工艺文档、工艺数据及其版本的管理。
       CAPP作为工艺文件编制和工艺数据的生成环境，以PDM的产品结构和用户及其工艺流程信息为基础，在PDM中进行新建、编辑、浏览、打印、审批工艺文件，并能够根据工艺文件生成对应的工艺数据，生成的工艺文件和工艺数据提交PDM管理，在CAPP中实现产品工艺数据的统计汇总功能。系统总体集成过程如图5所示。
　　

 
　　图5 CAPP与PDM集成过程
　　
       3.3.2 应用流程
       CAPP系统基于自身制造知识和制造资源的基础数据的支持，并在PDM平台的工艺管理的支撑和协调下展开工作，完成工艺规划、设计与统计汇总等各项业务。
       CAPP系统以嵌入式工具集的形式在企业PDM平台环境中运行，基于PDM平台的单一产品数据源和用户权限展开工艺设计工作，并采用统一的数据库，将工艺设计结果提交PDM平台统一管理。CAPP系统产生的工艺数据在PDM平台的统一工作流中，必要时使用CAPP系统提供的各种可视化工具，进行各种工艺数据的审批和更改。在最终发布后，采用CAPP系统提供的工具进行统计汇总和打印输出。其总体应用流程如图6所示。
　　

 

　　图6 PDM平台下的CAPP系统总体应用流程
　　
       3.4 深度集成实施过程
       依据上述总体方案，CAPP与PDM系统深度集成方案主要分为产品结构管理、用户信息管理、工艺设计管理、工艺审批管理、数据存储管理5个部分，各部分详细集成方案阐述如下：
       3.4.1 产品结构集成
       产品结构树由设计人员通过图纸集成的方式自动搭建，当图纸归档发布后，设计BOM自动归档，通过数据库交互的集成方式实现产品结构树一键自动生成工艺结构树，CAPP依据工艺结构树进行工艺文件的编制，并能够进行工艺数据相关报表的统计汇总。其产品结构一键转换过程如图7所示。
　　

 
　　图7 产品结构一键转换
　　
       3.4.2 用户信息管理集成
       用户信息管理由PDM系统进行统一管理，将人员、角色及权限信息通过数据库交互的集成方式传递至CAPP系统，实现人员、角色、权限信息等数据实时共享（如图8），PDM与CAPP信息交互方式如下：
       (1)PDM负责向CAPP传递用户、角色和权限信息。
       (2)CAPP负责解析传递的用户信息进行工艺设计。
       (3)CAPP负责解析传递的用户信息进行工艺文件电子审签。
　　

 

　　图8 人员、角色、权限数据共享
　　
       3.4.3 工艺设计管理集成
       工艺设计管理集成采用中间文件和命令行传递的方式进行集成。由PDM数据生成CAPP相关数据信息，然后进行处理，主要功能分为以下部分：
       (1)工艺文件新建。在PDM中需要建立工艺文件时，登录PDM系统，有产品结构树导出工艺树，传入相应参数，然后先建立工艺流程表，通过16949模块自动生成其它成套的工艺表单，编制完成后最后保存文件，然后入库至PDM系统，最后进行电子化审签和存档，如图9所示。
　　

 
　　图9 工艺文件新建流程
　　
       (2)工艺文件更改。在PDM中需要对工艺文件进行更改操作时，首先编制工程更改单，传入系统，然后启动相关流程进行电子化审签，在解锁节点对工艺文件进行更改，最后抄送和发布，自动归档至PDM系统，如图10所示。
　　

 

　　图10 工艺文件更改流程
　　
       (3)工艺文件统计汇总，在PDM中需要对工艺数据进行统计汇总时，基于工艺树通过高级报表的形式进行数据收集，系统自动调用XML文件，将数据写入工艺报表中，进行工艺数据的统计汇总，生成统计汇总文件，如图11所示。
　　

 
　　图11 工艺文件汇总流程
　　
       3.4.4 工艺审签管理集成
       （1）工艺文件的审批及其流程控制由PDM完成，按照企业相关文件要求，定制各种工艺文件审签流程，然后调整工艺图表签名配置（如图12），通过集成接口程序，从中间表读取所需的数据，存储数据至签字集成模块。
　　

 

　　图12 工艺图表签名配置
　　
       （2）CAPP负责定制工艺模板公共信息、单元格信息、签字字体等内容（如图13），然后通过系统流程的集成接口，定位至模板签字位置，实现对工艺文件自动进行电子签名。
　　

 

　　图13 定制工艺模板
　　
四、项目实施效果
       工艺数据的存储采用数据库交互的集成方案，通过CAPP编制和存储工艺文件，然后通过数据共享传递至PDM系统，在PDM数据库中直接存储CAPP工艺文件以及对应的结构化工艺数据，对比传统的单一的CAPP系统优势总结如下：
       （1）集成前工艺树搭建需要4个小时，集成后仅需要0.5个小时，工作效率提升8倍（如图14）。
　　

 

　　图14 工艺树搭建
　　
       （2）集成前BOM数据准确率为85%，通过数据库交互的集成方式，实现数据的共享和互通，准确率提升至100%（如图15）。
　　

 

　　图15 BOM准确率
　　
       （3）PDM与CAPP人员、角色、权限、流程等数据实时共享，形成豫新PLM系统核心数据库（如图16）。
　　

 
　　图16 PLM数据库
　　
五、结论
       综上所述，CAPP与PDM深度集成的实施应用，不但可以给企业带来业务模式的全新变革，在实现企业产品全生命周期管理同时，提升数据开发和利用的水平，而且通过工程数据和工程知识的充分管理与良好应用，将形成企业核心数据库，实现技术带动生产。
       无论从企业信息化应用的实际需求和应用效果来看，还是从产品全生命周期思想和技术的发展方向来看，甚至从企业整体协同的角度出发，CAPP系统与PDM系统深度、紧密的集成，可以让制造数据与设计数据能够切实连接起来，确保数字化制造过程进行有效的信息共享与交流。
参考文献
       [1]林晓青,孙连胜,张加波.基于统一产品结构树的航天器研制信息系统集成技术【J】.航空精密制造技术,2009,5.
       [2]吴敏,赵卫东.基于XML技术的CAPP和PDM系统的集成框架【J】.计算机应用研究,2004,6.
       [3]郑宏,董一巍,陈允全.企业集成环境下的 CAPP 系统【J】.科学技术与工程,2007,7.